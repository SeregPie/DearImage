<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
		/>
		<title>PaperDuck</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.26.0/polyfill.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.16/vue.min.js"></script>
		<style>
			[v-cloak] {
				display: none;
			}
		</style>
		<script src="PaperDuck.js"></script>
		<link
			rel="stylesheet"
			href="https://use.fontawesome.com/releases/v5.0.8/css/all.css"
		/>
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons"
		/>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/vuetify/1.0.11/vuetify.min.css"
		/>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/vuetify/1.0.11/vuetify.min.js"></script>
		<script src="https://unpkg.com/@seregpie/vueflex@18.3.5"></script>
	</head>
	<body>
		<v-app
			v-cloak
			id="App"
		>
			<v-toolbar
				color="red darken-3"
				dark
				clipped-left
				app
			>
				<v-toolbar-title>PaperDuck</v-toolbar-title>
				<v-spacer></v-spacer>
				<v-btn
					icon
					href="https://github.com/SeregPie/PaperDuck"
					target="_blank"
				>
					<v-icon>fab fa-github</v-icon>
				</v-btn>
			</v-toolbar>
			<v-content>
				<v-container
					style="position: relative;"
					fill-height
				>
					<div
					 	style="
							position: relative;
							width: 100%;
							height: 100%;
						"
					>
						<base-canvas-wrapper :canvas="canvas"></base-canvas-wrapper>
					</div>
					<div
						style="
							position: absolute;
							z-index: 1;
							left: 16px;
							top: 50%;
							transform: translateY(-50%);
							max-height: 100%;
							overflow-y: auto;
							display: flex;
							flex-direction: column;
						"
					>
						<v-tooltip right>
							<v-btn
								slot="activator"
								fab
								dark
								color="red"
								@click="flop"
							>
								<v-icon>flip</v-icon>
							</v-btn>
							<span>flop</span>
						</v-tooltip>
						<v-tooltip right>
							<v-btn
								slot="activator"
								fab
								dark
								color="red"
								@click="flip"
							>
								<v-icon style="transform: rotate(90deg);">flip</v-icon>
							</v-btn>
							<span>flip</span>
						</v-tooltip>
						<v-tooltip right>
							<v-btn
								slot="activator"
								fab
								dark
								color="red"
								@click="rotate90"
							>
								<v-icon>rotate_right</v-icon>
							</v-btn>
							<span>rotate90</span>
						</v-tooltip>
						<v-tooltip right>
							<v-btn
								slot="activator"
								fab
								dark
								color="red"
								@click="rotate180"
							>
								<v-icon>loop</v-icon>
							</v-btn>
							<span>rotate180</span>
						</v-tooltip>
						<v-tooltip right>
							<v-btn
								slot="activator"
								fab
								dark
								color="red"
								@click="rotate270"
							>
								<v-icon>rotate_left</v-icon>
							</v-btn>
							<span>rotate270</span>
						</v-tooltip>
					</div>
					<div
						style="
							position: absolute;
							z-index: 1;
							right: 16px;
							top: 50%;
							transform: translateY(-50%);
						"
					>
						<v-menu
							offset-x
							left
							bottom
						>
							<v-btn
								slot="activator"
								fab
								dark
								color="red"
							>
								<v-icon>more_vert</v-icon>
							</v-btn>
							<v-list>
								<base-canvas-dialog
									title="resize"
									:canvas="resizeCanvas"
									:dialog.sync="resizeDialog"
									@apply="applyResize"
								>
									<vue-flex-box
										wrap
										justify-content="center"
										align-items="center"
										:spacing="8"
									>
										<vue-flex-item style="max-width: 100px;">
											<v-text-field
												label="width"
												type="number"
												v-model="resizeInputWidth"
												hide-details
											></v-text-field>
										</vue-flex-item>
										<vue-flex-item style="max-width: 100px;">
											<v-text-field
												label="height"
												type="number"
												v-model="resizeInputHeight"
												hide-details
											></v-text-field>
										</vue-flex-item>
										<vue-flex-item style="max-width: 100px;">
											<v-text-field
												label="smoothing"
												type="number"
												v-model="resizeInputSmoothing"
												hide-details
											></v-text-field>
										</vue-flex-item>
									</vue-flex-box>
								</base-canvas-dialog>
								<base-canvas-dialog
									title="clip"
									:canvas="clipCanvas"
									:dialog.sync="clipDialog"
									@apply="applyClip"
								>
									<vue-flex-box
										wrap
										justify-content="center"
										align-items="center"
										:spacing="8"
									>
										<vue-flex-item style="max-width: 100px;">
											<v-text-field
												label="left"
												type="number"
												v-model="clipInputLeft"
												hide-details
											></v-text-field>
										</vue-flex-item>
										<vue-flex-item style="max-width: 100px;">
											<v-text-field
												label="top"
												type="number"
												v-model="clipInputTop"
												hide-details
											></v-text-field>
										</vue-flex-item>
										<vue-flex-item style="max-width: 100px;">
											<v-text-field
												label="width"
												type="number"
												v-model="clipInputWidth"
												hide-details
											></v-text-field>
										</vue-flex-item>
										<vue-flex-item style="max-width: 100px;">
											<v-text-field
												label="height"
												type="number"
												v-model="clipInputHeight"
												hide-details
											></v-text-field>
										</vue-flex-item>
									</vue-flex-box>
								</base-canvas-dialog>
								<v-bottom-sheet style="display: block;">
									<v-list-tile
										slot="activator"
										@click=""
									>
										<v-list-tile-title>
											crop
										</v-list-tile-title>
									</v-list-tile>
									<v-card tile>
										hallo
									</v-card>
								</v-bottom-sheet>
								<v-bottom-sheet style="display: block;">
									<v-list-tile
										slot="activator"
										@click=""
									>
										<v-list-tile-title>
											cropAlign
										</v-list-tile-title>
									</v-list-tile>
									<v-card tile>
										hallo
									</v-card>
								</v-bottom-sheet>
							</v-list>
						</v-menu>
					</div>
				</v-container>
			</v-content>
		</v-app>
		<template id="BaseCanvasDialog">
			<v-dialog
				style="display: block;"
				v-model="dialog"
				fullscreen
				scrollable
			>
				<v-list-tile
					slot="activator"
					@click=""
				>
					<v-list-tile-title>
						{{ title }}
					</v-list-tile-title>
				</v-list-tile>
				<v-card tile>
					<v-toolbar
						card
						dark
						color="red darken-3"
					>
						<v-btn
							icon
							dark
							@click="dialog = false"
						>
							<v-icon>close</v-icon>
						</v-btn>
						<v-toolbar-title>
							{{ title }}
						</v-toolbar-title>
						<v-spacer></v-spacer>
						<v-toolbar-items>
							<v-btn
								flat
								dark
								@click="apply"
							>
								apply
							</v-btn>
						</v-toolbar-items>
					</v-toolbar>
					<v-card-text
						style="
							height: 100%;
							display: flex;
							flex-direction: column;
						"
					>
						<div>
							<slot></slot>
						</div>
						<div
							style="
								position: relative;
								flex: 1;
							"
						>
							<base-canvas-wrapper :canvas="canvas"></base-canvas-wrapper>
						</div>
					</v-card-text>
				</v-card>
			</v-dialog>
		</template>
		<script src="demo/index.js"></script>
	</body>
</html>
